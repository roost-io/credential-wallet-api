# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k


# RoostTestHash=9e57a3b0dd

config:
  target: "{{ $processEnvironment.API_HOST }}"
  processor: "./my-functions.js"
  ensure: 
    p95: 200
  plugins: 
    expect: {} 
  payload:
    path: "apikeys_get_others.csv"
    fields: 
      - "id"
      - "value"
    skipHeader: true
scenarios:
  - name: "Non-successful API requests"
    flow:
      - log: "Attempting with a missing or invalid API key."
      - get: 
          url: "/apikeys/{{id}}"
          headers:
            Token: "{{ $processEnvironment.AUTH_TOKEN }}"
          expect: 
            - hasHeader: "api-version"
            - statusCode: 401
          think: 1
      
      - log: "Attempting with a missing User-Agent header."
      - get: 
          url: "/apikeys"
          headers:
            Token: "{{ $processEnvironment.AUTH_TOKEN }}"
          expect: 
            - statusCode: 400
          think: 1
          
      - log: "Attempting with an invalid URL."
      - get: 
          url: "/wrongpath/{{id}}"
          headers:
            Token: "{{ $processEnvironment.AUTH_TOKEN }}"
          expect: 
            - statusCode: 404
          think: 1

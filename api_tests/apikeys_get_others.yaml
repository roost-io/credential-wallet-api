# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k


# Test generated for /apikeys_get for http method type GET in artillery framework

# RoostTestHash=9e57a3b0dd


config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  payloads:
  - path: "apikeys_get_others.csv"
    fields:
      - "ApiKeyAuth"
    skipHeader: true
  http:
    pool: 10

scenarios:

- name: "Test for unsuccessful API calls"
  flow:

  # Test with invalid endpoint
  - get:
      url: "/non_existent_endpoint"
      expect:
        - statusCode: 404
        - hasProperty: "error"
        - equals: ["error", "Invalid endpoint"]
    think: 2

  # Test with missing authorization token
  - get:
      url: "/apikeys"
      headers:
        Token: ''
      expect:
        - statusCode: 403
    think: 2

  # Test with invalid authorization token
  - get:
      url: "/apikeys"
      headers:
        Token: 'InvalidToken'
      expect:
        - statusCode: 403
    think: 2

  # Test with correct endpoint but invalid header
  - get:
      url: "/apikeys"
      headers:
        InvalidHeader: 'randomValue'
        Token: '{{ $processEnvironment.AUTH_TOKEN }}'
      expect:
        - statusCode: 400
        - hasProperty: "error"
        - equals: ["error", "Invalid headers"]
    think: 2

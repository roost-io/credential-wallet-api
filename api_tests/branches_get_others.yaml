# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k


# RoostTestHash=74a40da00e

config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
  - duration: 60
    arrivalRate: 10
  plugins:
    expect: {}
  payload:
    path: "branches_get_others.csv"
    fields:
      - "auth"
      - "token"
      - "user-agent"
      - "accept"
      - "host"
      - "accept-encoding"
      - "connection"

scenarios:
  - name: "API Failure Tests"
    flow:
    # Invalid Auth Test
    - get:
        url: "/recipients/branches"
        headers: 
          Token: "{{ $processEnvironment.AUTH_TOKEN }}"
        expect:
          - statusCode: 401  # expect Unauthorized error when invalid auth provided
    - think: 3
    # Invalid URL Test
    - get:
        url: "/nonexistant/endpoint"
        headers:
          Token: "{{ $processEnvironment.AUTH_TOKEN }}"
        expect:
          - statusCode: 404  # expect Not found error when invalid URL provided
    - think: 3
    # Request with Missing Parameter
    - get:
        url: "/recipients/branches"
        headers:
          Token: "{{ $processEnvironment.AUTH_TOKEN }}"
        expect:
          - statusCode: 400  # expect Bad Request error when a required parameter is missing
    - think: 3
    # Content Type Error Test
    - get:
        url: "/recipients/branches"
        headers:
          Token: "{{ $processEnvironment.AUTH_TOKEN }}"
          Content-Type: "text/plain"  # sending non-json payload
        expect:
          - statusCode: 415  # expects unsupported media type error

# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k


# RoostTestHash=ed8c1b7bff

config:
  target: "{{ $processEnvironment.API_HOST }}"  
  phases:
    - duration: 6
      arrivalRate: 2
      name: "Break the App, Behave like annoying User!!"
  payload:
    path: "authorizations_post_others.csv"
    fields: ["email"] 
    skipHeader: true
  plugins:
    expect: {}
  headers:
    Content-Type: "application/json"
    authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"

scenarios:
  - name: "400 and 401 responses for authorizations"
    flow:
      - log: "Non-Success Case: POST /authorizations with invalid email formats"
        post:
          url: "/authorizations"
          json:
            email: "{{ email }}"
          expect:
            - statusCode: 400
            - hasProperty: "error"
        think: 2

      - log: "Non-Success Case: POST /authorizations without auth token"
        post:
          url: "/authorizations"
          headers:
            Content-Type: "application/json"
            authorization: "" # No auth token
          json:
            email: "{{ email }}"
          expect:
            - statusCode: 401
            - hasProperty: "error"
        think: 2

      - log: "Non-Success Case: POST /authorizations with invalid URL"
        post:
          url: "/incorrect_url" # Invalid URL
          headers:
            Content-Type: "application/json"
            authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
          json:
            email: "{{ email }}"
          expect:
            - statusCode: 400
            - hasProperty: "error"
        think: 2

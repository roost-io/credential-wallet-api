# ********RoostGPT********
# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k

# Test generated for /authorizations_get for http method type GET in artillery framework
# RoostTestHash=3b64f22044



# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}"
  # Enable the 'expect' plugin
  plugins:
    expect: {}
  # Payload Configuration
  payload:
    fields:
    - apikey
    order:
    - apikey
    path: "authorizations_get_others.csv"
    skipHeader: true

scenarios:
- name: "Test Non-success API Responses"
  flow:
  # Request with invalid URL
  - log: "Sending GET Request to Invalid URL"
    get:
      url: "{{ $processEnvironment.API_HOST }}/authrztnz"
      headers:
        Token: "{{$processEnvironment.AUTH_TOKEN}}"
      expect:
        - statusCode: 404
    think: 1

  # Request with valid URL and invalid key/Token
  - log: "Sending GET Request to valid URL with Invalid Auth"
    get:
      url: "{{ $processEnvironment.API_HOST }}/authorizations"
      headers:
        Token: "Invalid_Token"
      expect:
        - statusCode: 403
        - hasProperty: "message"
    think: 1

  # Request with valid URL and missing 'Token' header
  - log: "Sending GET with Missing Token Header"
    get:
      url: "{{ $processEnvironment.API_HOST }}/authorizations"
      expect:
        - statusCode: 401
    think: 1

  # Request with valid URL and valid Token/key but invalid path parameter
  - log: "GET Request with Valid Token but Invalid Path Parameter"
    get: 
      url: "{{ $processEnvironment.API_HOST }}/authorizations/invalid_path"
      headers:
        Token: "{{$processEnvironment.AUTH_TOKEN}}"
      expect:
        - statusCode: 400
    think: 1

  # Valid Request with valid URL, Token/key, path parameters
  - log: "Sending GET Request with valid URL and Auth"
    get: 
      url: "{{ $processEnvironment.API_HOST }}/authorizations"
      headers:
        Token: "{{$processEnvironment.AUTH_TOKEN}}"
      expect:
        - statusCode: 200
        - hasProperty: "authorizations"
    think: 1


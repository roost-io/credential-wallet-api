# ********RoostGPT********
# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k

# Test generated for /recipients/persons_get for http method type GET in artillery framework
# RoostTestHash=aa0a5d4980



# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 60
      arrivalRate: 10
  payload:
    - path: "./persons_get_others.csv"
      fields:
        - "size"
        - "offset"
        - "name"
        - "birth-date"
  plugins:
    expect: {}

scenarios:
  - name: "Testing Non-Success API Responses"
    flow:
      - # Invalid request due to missing required headers
        get:
          url: "/recipients/persons"
          expect:
            - statusCode: 401

        think: 2

      - # Invalid request due to incorrect API URL
        get:
          url: "/incorrect/api/endpoint"
          headers:
            "Token": "{{$processEnvironment.AUTH_TOKEN}}"
          expect:
            - statusCode: 404

        think: 2

      - # Invalid request due to wrong payload fields
        get:
          url: "/recipients/persons"
          headers:
            "Token": "{{$processEnvironment.AUTH_TOKEN}}"
          qs:
            size: "{{ size }}"
            name: "{{ name }}"
          expect:
            - statusCode: 400

        think: 2

      - # Valid request but resource doesn't exist
        get:
          url: "/recipients/persons"
          headers:
            "Token": "{{$processEnvironment.AUTH_TOKEN}}"
          qs:
            size: "{{ size }}"
            offset: "{{ offset }}"
            name: "nonexistingname"
            birth-date: "{{ birth-date }}"
          expect:
            - statusCode: 404

        think: 2

      - # The server encountered an unexpected condition
        get:
          url: "/recipients/persons"
          headers:
            "Token": "{{$processEnvironment.AUTH_TOKEN}}"
          qs:
            size: "{{ size }}"
            offset: "{{ offset }}"
            name: "{{ name }}"
            birth-date: "{{ birth-date }}"
          expect:
            - statusCode: 500

        think: 2

# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k


# Test generated for /apikeys_post for http method type POST in artillery framework

# RoostTestHash=28a54f1579


config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  payloads:
    - path: "apikeys_post_others.csv"
      fields:
        - Token

scenarios:
  - name: "Test API non-success responses"
    flow:
      # Send a GET request without the required auth token
      - get:
          url: "/apikeys"
          headers:
            user-agent: "PostmanRuntime/7.32.3"
          expect:
            - statusCode: 401  # no auth token provided
          think: 1

      # Send a POST request with invalid token
      - post:
          url: "/apikeys"
          headers:
            Token: "inavlidToken123"  # invalid token
            user-agent: "PostmanRuntime/7.32.3"
          expect:
            - statusCode: 403  # forbidden due to invalid token
          think: 1

      # Send a POST request without required payload
      - post:
          url: "/apikeys"
          headers:
            Token: "{{$processEnvironment.AUTH_TOKEN}}" 
            user-agent: "PostmanRuntime/7.32.3"
          expect:
            - statusCode: 400  # bad request due to missing payload
          think: 1

      # Send a GET request to the wrong URL
      - get:
          url: "/wrongUrl"
          headers:
            Token: "{{$processEnvironment.AUTH_TOKEN}}" 
            user-agent: "PostmanRuntime/7.32.3"
          expect:
            - statusCode: 404  # not found due to incorrect URL
          think: 1

      # Send a GET request with the required token, expecting success
      - get:
          url: "/apikeys"
          headers:
            Token: "{{$processEnvironment.AUTH_TOKEN}}" 
            user-agent: "PostmanRuntime/7.32.3"
          expect:
            - statusCode: 200  # successful request
          think: 1

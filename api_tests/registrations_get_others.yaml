# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k


# Test generated for /registrations_get for http method type GET in artillery framework

# RoostTestHash=5a542f8139


config:
  target: "{{ $processEnvironment.API_HOST }}"
  payload:
    path: "registrations_get_others.csv"
    fields:
      - "recipient"
      - "credential-url"
  plugins:
    expect: {}
  security:
    name: "Token"
    in: "header"
  phases:
    - duration: 60
      arrivalRate: 1 

scenarios:
  - name: "Test scenario for non-success API responses"
    flow:
    # Request with a missing authorization token
    - comment: "Request to /registrations without an auth token"
      get:
        url: "/registrations"
        headers:
          User-Agent: "Artillery.io"
      expect:
        - statusCode: 401
        - hasProperty: "error"
        - equals: ["error", "Unauthorized"]
      think: 1
    # Request with an invalid authorization token
    - comment: "Request to /registrations with an invalid auth token"
      get:
        url: "/registrations"
        headers:
          User-Agent: "Artillery.io"
          Token: "Invalid token"
      expect:
        - statusCode: 403
        - hasProperty: "error"
        - equals: ["error", "Forbidden"]
      think: 1
    # Request to a non-existent API endpoint
    - comment: "Request to a non-existent API endpoint"
      get:
        url: "/nonexistent-endpoint"
        headers:
          User-Agent: "Artillery.io"
          Token: "{{ $processEnvironment.AUTH_TOKEN }}"
      expect:
        - statusCode: 404
        - hasProperty: "error"
        - equals: ["error", "Not Found"]
      think: 1
    # Request with a missing required parameter
    - comment: "Request to /registrations with a missing required query parameter"
      get:
        url: "/registrations?recipient={{ recipient }}"
        headers:
          User-Agent: "Artillery.io"
          Token: "{{ $processEnvironment.AUTH_TOKEN }}"
      expect:
        - statusCode: 400
        - hasProperty: "error"
        - equals: ["error", "Bad Request"]
      think: 1
    # Request with an invalid query parameter
    - comment: "Request to /registrations with an invalid query parameter"
      get:
        url: "/registrations?recipient={{ recipient }}&credential-url=invalid-url"
        headers:
          User-Agent: "Artillery.io"
          Token: "{{ $processEnvironment.AUTH_TOKEN }}"
      expect:
        - statusCode: 400
        - hasProperty: "error"
        - equals: ["error", "Bad Request"]
      think: 1

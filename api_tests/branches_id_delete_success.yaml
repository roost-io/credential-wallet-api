# ********RoostGPT********
# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k

# Test generated for /recipients/branches/{id}_delete for http method type DELETE in artillery framework
# RoostTestHash=1ce4bf6e3c



# ********RoostGPT********
config: 
  target: "{{ $processEnvironment.API_HOST }}"
  processors: { } 
  plugins: 
    expect: { }
  variables: { } 
  http: 
    pool: 14
    timeout: 50
    headers: 
      Token: "{{ $processEnvironment.AUTH_TOKEN }}"
  payload: 
    path: "branches_id_delete_success.csv"
    skipHeader: true
    fields: 
      - "id"
  phases: 
    - duration: 10
      arrivalRate: 5

scenarios: 
  - name: "Recipients Branches API"
    flow: 
      # Get request for recipients branches id
      - get: 
          url: "/recipients/branches/{{ id }}"
          headers: 
            ApiKeyAuth: "{{ $processEnvironment.AUTH_TOKEN }}"
          capture: 
            - json: "$.id"
              as: "branch_id"
          expect: 
            - statusCode: 200
            - hasHeader: "api-version"
            - equals: 
                - "api-version"
                - "1.0.0"
          think: 1

      # Post request for recipients branches id 
      - post: 
          url: "/recipients/branches/{{ id }}"
          headers: 
            ApiKeyAuth: "{{ $processEnvironment.AUTH_TOKEN }}"
          capture: 
            - json: "$.id"
              as: "branch_id"
          expect: 
            - statusCode: 201
            - hasHeader: "api-version"
            - equals: 
                - "api-version"
                - "1.0.0"
          think: 1

      # Patch request for recipients branches id 
      - patch: 
          url: "/recipients/branches/{{ id }}"
          headers: 
            ApiKeyAuth: "{{ $processEnvironment.AUTH_TOKEN }}"
          capture: 
            - json: "$.id"
              as: "branch_id"
          expect: 
            - statusCode: 200
            - hasHeader: "api-version"
            - equals: 
                - "api-version"
                - "1.0.0"
          think: 1

      # Delete request for recipients branches id 
      - delete: 
          url: "/recipients/branches/{{ id }}"
          headers: 
            ApiKeyAuth: "{{ $processEnvironment.AUTH_TOKEN }}"
          expect: 
            - statusCode: 204
            - hasHeader: "api-version"
            - equals: 
                - "api-version"
                - "1.0.0"
          think: 1

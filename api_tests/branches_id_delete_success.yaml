# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k


# Test generated for /recipients/branches/{id}_delete for http method type DELETE in artillery framework

# RoostTestHash=1ce4bf6e3c


config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  payload:
    path: "branches_id_delete_success.csv"
    fields:
      - "branch_created_date"
      - "branch_updated_date"
  defaults:
    headers:
      Token: "{{ $processEnvironment.AUTH_TOKEN }}"

scenarios:
  - name: "Validate API requests"
    flow:
      - get: # Get request
          url: "/recipients/branches/{{ branch_created_date }}"
          expect: 
            - statusCode: 200 # Expected status code
            - hasHeader: "api-version" # Expected header
            - headerEquals: ["api-version", "1.0.0"] # Header equal to
            - hasProperty: "branch_created_date" # Expected properties in response
          afterResponse: "think"

      - post: # Post request
          url: "/recipients/branches"
          json:
            branch_created_date: "{{ branch_created_date }}"
            branch_updated_date: "{{ branch_updated_date }}"
          expect: 
            - statusCode: 201 # Expected status code
            - hasHeader: "api-version" # Expected header
            - headerEquals: ["api-version", "1.0.0"] # Header equal to
            - hasProperty: "id" # Expected properties in response
          afterResponse: "think"

      - patch: # Patch request
          url: "/recipients/branches/{{ branch_created_date }}"
          json:
            branch_updated_date: "{{ branch_updated_date }}"
          expect: 
            - statusCode: 200 # Expected status code
            - hasHeader: "api-version" # Expected header
            - headerEquals: ["api-version", "1.0.0"] # Header equal to
            - hasProperty: "branch_updated_date" # Expected properties in response
          afterResponse: "think"

      - delete: # Delete request
          url: "/recipients/branches/{{ branch_created_date }}"
          expect: 
            - statusCode: 204 # Expected status code
            - hasHeader: "api-version" # Expected header
            - headerEquals: ["api-version", "1.0.0"] # Header equal to
            - notHasProperty: "branch_created_date" # Expected properties in response
          afterResponse: "think"

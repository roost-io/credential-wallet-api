# ********RoostGPT********
# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k

# Test generated for /accounts_patch for http method type PATCH in artillery framework
# RoostTestHash=2758affb7e



# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 60
      arrivalRate: 5
  plugins:
    expect: {}
  payload:
    path: "accounts_patch_success.csv"
    fields:
      - "email"
    skipHeader: true
  defaults: 
    headers:
      Authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
      Content-Type: "application/json"

scenarios:
  - name: "Account Login"
    flow: 
      # The first request is for account login 
      - post: 
          url: "/accounts"
          # Headers will be inherited from "config"
          json: 
            email: "{{ email }}"
          # Expecting the request to be successful
          expect: 
            - statusCode: 200
            - hasProperty: "api-version"
            - hasHeader: "api-version"
            - headerEquals: ["api-version", "1.0.0"]

      - think: 1


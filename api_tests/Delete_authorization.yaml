# Test generated by RoostGPT for test credential-integration-artillery using AI Type Vertex AI and AI Model code-bison-32k


# Artillery test script generated from Gherkin scenario:

# Delete authorization
#     Given authorization ID
#     When the client sends a DELETE request to "/authorizations/ID"
#     Then the response status code should be 200 for a successful delete
#     And the authorizations should not appear in GET request for "/authorizations"

config:
  target: "http://localhost:8080"
  expect: true

# Define payload for DELETE request
payload:
  Delete_authorization.csv:
    skipHeader: true
    fields:
      - authorization_id

# Define test scenarios
scenarios:
  # Scenario: Delete authorization
  - scenario: Delete authorization
      # Given authorization ID
      - get:
          url: "/authorizations"
          expect: 200
          log: "Get all authorizations before delete"
          assertions:
            - hasProperty: true
              property: "{{ authorization_id }}"
      - delete:
          url: "/authorizations/{{ authorization_id }}"
          expect: 200
          log: "Delete authorization with ID {{ authorization_id }}"
      # Then the response status code should be 200 for a successful delete
      - get:
          url: "/authorizations"
          expect: 200
          log: "Get all authorizations after delete"
          assertions:
            - hasProperty: false
              property: "{{ authorization_id }}"

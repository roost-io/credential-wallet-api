# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k


# RoostTestHash=64d33906e5

config:
  # Target configuration extraction
  target: "{{ $processEnvironment.API_HOST }}"
  # Plugin for 'expect' assertions  
  plugins:
    expect: {}
  # Payload variables from CSV file
  payload:
    path: "logout_post_others.csv"
    fields:
      - "field1"
      - "field2"
    skipHeader: true
  defaults:
    headers:
      Token: "{{$processEnvironment.AUTH_TOKEN}}" # Applying the authorization header
scenarios:
  # Single scenario with multiple erroneous requests
  - name: "Non-Success API Test"
    flow:
      # Authentication error
      - post:
          url: "/logout"
          headers:
            user-agent: "PostmanRuntime"
            accept: "*/*"
          expect:
            - statusCode: 401 # Unauthorized  
          think: 1

      # Invalid method type
      - patch:
          url: "/logout"
          headers:
            user-agent: "PostmanRuntime"
            accept: "*/*"
          expect:
            - statusCode: 405 # Method Not Allowed
          think: 1

      # Error in URL
      - post:
          url: "/logoff" # Incorrect URL
          headers:
            user-agent: "PostmanRuntime"
            accept: "*/*"
          expect:
            - statusCode: 404 # Not Found
          think: 1

      # Invalid payload
      - post:
          url: "/logout"
          headers:
            user-agent: "PostmanRuntime"
            accept: "*/*"
          json:
            field1: "{{ field1 }}" # Assumed invalid data from CSV
            field2: "{{ field2 }}" # Assumed invalid data from CSV
          expect:
            - statusCode: 400 # Bad Request 
            - hasHeader: 'api-version' # Assert presence of response headers
            - equals:
                - "{{ response.headers['api-version'] }}"
                - "1.0.0" # API version from API SPECIFICATION
            - hasProperty: 'description' # Assert presence of required body properties
            - hasProperty: 'error' # Assert presence of required body properties
          think: 1

# ********RoostGPT********
# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k

# Test generated for /recipients/branches/{id}_patch for http method type PATCH in artillery framework
# RoostTestHash=9caaa2ef96



# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}"
  processor: "./processors/myScript.js"
  ensure: {}
  environments: {}
  payloads:
    - path: "./payloads/branches_id_patch_others.csv"
      fields:
        - "email"
        - "phone"
        - "tradeName"
      skipHeader: true
  plugins:
      expect: {}
scenarios:
  - name: Test Non-Success API Responses
    flow:
      # Make a POST request with invalid URL
      - post:
          url: "/invalid/url"
          headers:
            Token: "{{$processEnvironment.AUTH_TOKEN}}"
          json:
            email: "{{ email }}"
            phone: "{{ phone }}"
            tradeName: "{{ tradeName }}"
          expect:
            - statusCode: 404
          think: 1 
      
      # Make a POST request with invalid payloads
      - post:
          url: "/recipients/branches/{id}"
          headers:
            Token: "{{$processEnvironment.AUTH_TOKEN}}"
          json:
            email: "invalid email"
            phone: "{{ phone }}"
            tradeName: "{{ tradeName }}"
          expect:
            - statusCode: 400
          think: 1 
      
      # Make a POST request without required fields
      - post:
          url: "/recipients/branches/{id}"
          headers:
            Token: "{{$processEnvironment.AUTH_TOKEN}}"
          json:
            email: "{{ email }}"
            phone: "{{ phone }}"
          expect:
            - statusCode: 400
            - hasProperty: "errors.tradeName"
          think: 1 
      
      # Make a POST request without authorization
      - post:
          url: "/recipients/branches/{id}"
          json:
            email: "{{ email }}"
            phone: "{{ phone }}"
            tradeName: "{{ tradeName }}"
          expect:
            - statusCode: 401
          think: 1

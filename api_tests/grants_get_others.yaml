# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k


# Test generated for /grants_get for http method type GET in artillery framework

# RoostTestHash=692c6b853f


config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 180
      arrivalRate: 1
  plugins:
    expect: {}
  payload:
    path: "grants_get_others.csv"
    fields:
      - field1
      - field2
    skipHeader: true
  headers:
    Token: "{{$processEnvironment.AUTH_TOKEN}}"
scenarios:
  - flow:
    # Invalid API key
    - get: 
        url: "/grants"
        headers:
            Token: "InvalidToken"
        expect:
            - statusCode: 401
        think: 1
    # Missing API key
    - get: 
        url: "/grants"
        headers:
            Token: ""
        expect:
            - statusCode: 401
        think: 1
    # Invalid URL
    - get: 
        url: "/invalidUrl"
        headers:
            Token: "{{$processEnvironment.AUTH_TOKEN}}"
        expect:
            - statusCode: 404
        think: 1
    # Invalid request payload
    - post: 
        url: "/grants"
        headers:
            Token: "{{$processEnvironment.AUTH_TOKEN}}"
        json:
            field1: "{{ field1 }}"
            field2: "invalidField2Value"
        expect:
            - statusCode: 400
            - hasProperty: "message"
            - hasProperty: "error"
        think: 1
    # Missing required field in payload
    - post: 
      url: "/grants"
      headers:
          Token: "{{$processEnvironment.AUTH_TOKEN}}"
      json:
          field: "{{ field1 }}"
      expect:
          - statusCode: 400
          - hasProperty: "message"
          - hasProperty: "error"
      think: 1

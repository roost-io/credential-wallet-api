# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k


# Test generated for /recipients/branches_put for http method type PUT in artillery framework

# RoostTestHash=63322ffb26


config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases: 
    - duration: 60
      arrivalRate: 10
  ensure:
    p99: 200
  payload:
    path: "branches_put_others.csv"
    fields: ["cocNumber", "cocBranchNumber", "city", "tradeName", "phone", "email"]
    skipHeader: true
  plugins:
    expect: {}

scenarios:
- name: "Unsuccessful API Responses"
  flow:
    - post:
        headers:
          Token: "{{ $processEnvironment.AUTH_TOKEN }}"
        url: "/recipients/branches"
        json:
          cocNumber: "{{ cocNumber }}"
          cocBranchNumber: "{{ cocBranchNumber }}"
          city: "{{ city }}"
          tradeName: "{{ tradeName }}"
          phone: "{{ phone }}"
          email: "{{ email }}"
        expect:
          - statusCode: 400
          - hasProperty: "errors"
        # This request tests invalid input fields in the payload with 400 status code and presence of "errors" in the response
    - think: 2
    - post:
        headers:
          Token: "{{ $processEnvironment.AUTH_TOKEN }}"
        url: "/invalidURL"
        expect:
          - statusCode: 404
        # This request tests the scenario of an invalid URL with expected 404 status code
    - think: 2 
    - post:
        headers:
          Token: "InvalidToken"
        url: "/recipients/branches"
        json:
          cocNumber: "{{ cocNumber }}"
          cocBranchNumber: "{{ cocBranchNumber }}"
          city: "{{ city }}"
          tradeName: "{{ tradeName }}"
          phone: "{{ phone }}"
          email: "{{ email }}"
        expect:
          - statusCode: 401
          - hasProperty: "message"
        # This request tests the scenario of invalid authorization token with expected 401 status code and presence of "message" in the response
    - think: 2
    - get:
        headers:
          Token: "{{ $processEnvironment.AUTH_TOKEN }}"
        url: "/recipients/branches/invalidBranchId"
        expect:
          - statusCode: 404
          - hasProperty: "message"
        # This request tests the scenario of getting an invalid branch id with expected 404 status code and presence of "message" in the response
    - think: 2

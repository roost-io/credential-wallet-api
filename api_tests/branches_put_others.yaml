# Test generated by RoostGPT for test credential-wallet-rest-assured using AI Type Azure Open AI and AI Model roost-gpt4-32k


# Test generated for /recipients/branches_put for http method type PUT in artillery framework

# RoostTestHash=63322ffb26


config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  environments:
    staging:
      target: "{{ $processEnvironment.API_HOST }}"
  payload:
    path: "branches_put_others.csv"
    fields:
      - "cocNumber"
      - "cocBranchNumber"
      - "city"
      - "tradeName"
      - "phone"
      - "email"
    skipHeader: true
scenarios:
  - flow:
      # POST request with an invalid authentication token
      - post:
          url: "/recipients/branches"
          headers:
            Content-Type: "application/json"
            Token: "InvalidToken"
          json:
            cocNumber: "{{$cocNumber}}"
            cocBranchNumber: "{{$cocBranchNumber}}"
            city: "{{$city}}"
            tradeName: "{{$tradeName}}"
            phone: "{{$phone}}"
            email: "{{$email}}"
        expect:
          - hasHeader: 'Token'
          - statusCode: 401 # Unauthorized due to invalid token
      - think: 1

      # Testing payload with wrong data format
      - post:
          url: "/recipients/branches"
          headers:
            Content-Type: "application/json"
            Token: "{{$processEnvironment.AUTH_TOKEN}}"
          json:
            cocNumber: 12345678 # non-string value
            city: "{{$city}}"
            cocBranchNumber: "{{$cocBranchNumber}}"
            tradeName: "{{$tradeName}}"
            phone: "{{$phone}}"
            email: "{{$email}}"
        expect:
          - statusCode: 400  # Bad request due to wrong data type
      - think: 1

      # Testing payload with missing required field
      - post:
          url: "/recipients/branches"
          headers:
            Content-Type: "application/json"
            Token: "{{$processEnvironment.AUTH_TOKEN}}"
          json:
            cocNumber: "{{$cocNumber}}"
            city: "{{$city}}"
            tradeName: "" # Required field is empty
            phone: "{{$phone}}"
            email: "{{$email}}"
        expect:
          - statusCode: 400  # Bad request due to missing required field
      - think: 1

      # Testing an invalid endpoint
      - post:
          url: "/recipients/branches/invalid_endpoint"
          headers:
            Content-Type: "application/json"
            Token: "{{$processEnvironment.AUTH_TOKEN}}"
          json:
            cocNumber: "{{$cocNumber}}"
            cocBranchNumber: "{{$cocBranchNumber}}"
            city: "{{$city}}"
            tradeName: "{{$tradeName}}"
            phone: "{{$phone}}"
            email: "{{$email}}"
        expect:
          - statusCode: 404  # Not found due to invalid endpoint
      - think: 1
